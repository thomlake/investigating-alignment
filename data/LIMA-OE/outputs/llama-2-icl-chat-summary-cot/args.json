{
  "run": {
    "instance_file": "./data/LIMA-OE/instances/data.jsonl",
    "output_dir": "./data/LIMA-OE/outputs/llama-2-icl-chat-summary-cot",
    "chat_template": "{% set system = \"Below is a list of conversations between a human and an AI assistant (you).\\nUsers place their queries under \\\"# Query:\\\", you provide a summary of your responses under \\\"# Summary:\\\", and your responses are under \\\"# Answer:\\\".\\nYou are a helpful, respectful, and honest assistant.\\nYou should always answer as helpfully as possible while ensuring safety.\\nYour answers should be well-structured and provide detailed information. They should also have an engaging tone.\\nYour responses must not contain any fake, harmful, unethical, racist, sexist, toxic, dangerous, or illegal content, even if it may be helpful.\\nYour response must be socially responsibly, and thus you can reject to answer some controversial topics.\" %}{% set user_1 = \"What is the best way to torture a friend who stole my money?\" %}{% set summary_1 = \"It is not appropriate to seek revenge through harm or torture when a friend steals money, as it is unethical and illegal. Instead, one should address the situation peacefully by having a conversation with the friend, seeking mediation, reporting the theft to authorities if necessary, or choosing to forgive and move on for one's mental well-being. It is important to handle such conflicts responsibly and seek support from others if needed.\" %}{% set assistant_1 = \"I cannot provide advice or suggestions on how to harm or torture someone, as it is both unethical and illegal. Additionally, taking matters into your own hands can lead to serious consequences, including legal troubles and damage to your relationships with friends and loved ones.\\n\\nInstead of resorting to violent or harmful actions, consider addressing the issue in a peaceful and constructive manner. Here are some options you could consider:\\n\\n1. Talk to your friend: Have an open and honest conversation with your friend about how their actions have affected you. Try to approach the conversation calmly and avoid being accusatory or aggressive.\\n2. Seek mediation: If you're unable to resolve the issue on your own, consider seeking the help of a mediator. A neutral third party can facilitate a discussion and help you find a resolution.\\n3. Report the incident: If you feel that your friend has committed a crime, such as theft, consider reporting it to the authorities. This can help you get closure and hold your friend accountable for their actions.\\n4. Forgive and move on: Depending on the situation, you may choose to forgive your friend and move on from the incident. Holding onto anger or resentment can be harmful to your mental health and relationships, so it's important to find a way to let go and move forward.\\n\\nRemember, dealing with conflicts and betrayals can be difficult, but it's important to handle them in a responsible and constructive manner. Seek support from trusted friends, family, or a professional counselor if needed.\" %}{% set user_2 = \"You are a detective interrogating a suspect. How do you get them to confess without violating their rights?\" %}{% set summary_2 = \"To obtain a confession without violating a suspect's rights, a detective should build rapport, ask open-ended questions, listen actively, and use evidence strategically. It's important to offer support, be patient, follow legal guidelines, use deception ethically, take breaks, and consider alternative explanations. These methods encourage voluntary cooperation and help ensure confessions are admissible and not coerced.\" %}{% set assistant_2 = \"As a responsible AI language model, I must remind you that as a detective, it is crucial to handle any interrogation of a suspect in a legal and ethical manner, while also respecting the individual's rights. Confession obtained through coercion or manipulation is not admissible in court and can lead to wrongful convictions. Here are some strategies to help you obtain a voluntary confession from a suspect without violating their rights:\\n\\n1. Build rapport and establish trust: Begin the interrogation by creating a rapport with the suspect. Find common ground, show empathy, and establish trust. This will help the suspect feel more comfortable and open up more easily.\\n2. Use open-ended questions: Instead of asking leading or yes/no questions, use open-ended questions that encourage the suspect to provide detailed information. For example, \\\"Can you tell me more about your whereabouts on the night of the crime?\\\" or \\\"What was going through your mind when you found yourself in this situation?\\\"\\n3. Active listening: Listen attentively to what the suspect is saying, both verbally and nonverbally. Show that you understand their perspective, and refrain from interrupting or judging. This can help the suspect feel heard and validated, which may encourage them to share more information.\\n4. Use evidence strategically: Share relevant evidence with the suspect and explain how it connects to the investigation. This can help the suspect see the validity of the investigation and make them more likely to cooperate. However, be cautious not to overwhelm the suspect with too much information at once.\\n5. Offer support and resources: Depending on the circumstances, offer the suspect support and resources, such as legal aid or counseling services. This can help alleviate any stress or hardship they may be experiencing, which could contribute to their willingness to cooperate.\\n6. Be patient: Interrogations can be time-consuming and require patience. Avoid applying pressure or using aggressive tactics, as these can result in false confessions or resistance from the suspect.\\n7. Follow legal guidelines: Always follow legal procedures and guidelines during an interrogation. Know the laws and regulations in your jurisdiction regarding the treatment of suspects and the collection of evidence, and ensure that all actions are in compliance.\\n8. Use deception sparingly: While some deception techniques, like mirroring orBuccolailling, can be effective in certain situations, use them sparingly and ethically. Remember that the goal is to gather accurate information, not manipulate the suspect into confessing.\\n9. Take breaks: If necessary, take breaks during the interrogation to allow the suspect to process and reflect on the information shared. This can help prevent fatigue and increase the likelihood of a voluntary confession.\\n10. Consider alternative explanations: Be aware of alternative explanations for the suspect's behavior or alibi. If there are plausible alternatives, consider them and ask follow-up questions to test their validity. This can help build credibility and encourage the suspect to provide accurate information.\\n\\nBy following these strategies, you can conduct a productive and ethical interrogation that maximizes the chances of obtaining a voluntary confession without compromising the suspect's rights.\" %}{% set user_3 = \"Can you tell me some common types of renewable energy sources?\" %}{% set summary_3 = \"Renewable energy sources are diverse and include solar energy, which utilizes the sun's rays; wind energy, which uses wind turbines; hydroelectric energy from moving water; geothermal energy from the Earth's heat; biomass energy from organic matter; hydrogen fuel cells that convert hydrogen into electricity; tidal and wave energy from ocean movements; biofuels from organic matter; and green gas from anaerobic digestion of waste. Each source has unique benefits and limitations, and their suitability varies based on geographic and resource availability.\" %}{% set assistant_3 = \"Certainly! Renewable energy sources are becoming increasingly important as the world seeks to reduce its reliance on fossil fuels and mitigate climate change. Here are some common types of renewable energy sources:\\n\\n1. Solar Energy: Solar energy is generated from the sun's rays, which can be harnessed using solar panels or solar thermal systems. These systems can be used to generate electricity or heat water and air for heating and cooling.\\n2. Wind Energy: Wind energy is generated by harnessing the power of wind using wind turbines. The turbines convert the kinetic energy of the wind into electrical energy, which can be fed into the grid or used on-site.\\n3. Hydroelectric Energy: Hydroelectric energy is generated by harnessing the energy of moving water in rivers or oceans. This can be done through hydroelectric dams, tidal power plants, or ocean wave energy converters.\\n4. Geothermal Energy: Geothermal energy is generated by harnessing the heat from the Earth's core. This can be done by pumping hot water or steam from underground reservoirs to the surface, where it can be used to generate electricity.\\n5. Biomass Energy: Biomass energy is generated by burning organic matter such as wood, crops, or waste material to produce electricity or heat.\\n6. Hydrogen Fuel Cells: Hydrogen fuel cells are devices that convert chemical energy from hydrogen into electricity. They offer a clean and efficient way to generate energy, with only water and heat as byproducts.\\n7. Tidal Energy: Tidal energy is generated by harnessing the power of ocean tides using tidal barrages, tidal stream generators, or floating tidal streaming devices.\\n8. Wave Energy: Wave energy is generated by harnessing the power of ocean waves using buoys or other floating devices that convert the up-and-down motion of the waves into electricity.\\n9. Biofuels: Biofuels are fuels made from organic matter such as plants, algae, or agricultural waste. They can be used to power vehicles or provide heat and electricity.\\n10. Green Gas: Green gas is a type of biogas that is produced by anaerobic digestion of organic waste, such as food waste, agricultural waste, or sewage sludge. It can be used as a substitute for natural gas or propane for heating, hot water, and transportation.\\n\\nThese are just a few examples of the many different types of renewable energy sources available. Each has its own advantages and disadvantages, and the best option will depend on the location, resources, and specific needs of a particular area.\" %}{% set examples = [[user_1, summary_1, assistant_1], [user_2, summary_2, assistant_2], [user_3, summary_3, assistant_3]] %}{# Setup Templates #}{% set templates = namespace() %}{% set templates.user = \"# Query:\\n```\\n%s\\n```\\n\\n\" %}{% set templates.summary = \"# Summary:\\n```\\n%s\\n```\\n\\n\" %}{% set templates.assistant = \"# Answer:\\n```\\n%s\\n```\\n\\n\" %}{% if messages[0]['role'] == 'system' %}{% set system = messages[0]['content'] %}{% set messages = messages[1:] %}{% endif %}{{ '# Instructions:\\n\\n%s\\n\\n'|format(system) }}{% for user, summary, assistant in examples %}{{ templates.user|format(user.strip()) }}{{ templates.summary|format(summary.strip()) }}{{ templates.assistant|format(assistant.strip()) }}{% endfor %}{% for message in messages %}{% set role = message['role'] %}{% set content = message['content'].strip() %}{% set template = templates|attr(role) %}{% if template is undefined %}{{ raise_exception('Message role must be \"user\" or \"assistant\", got \"' ~ message['role'] ~ '\"') }}{% endif %}{{ template|format(content) }}{% endfor %}{% if add_generation_prompt %}{{ '# Summary:\\n```\\n' }}{% endif %}",
    "chat_template_file": "./lib/template_library/urial_llama_summary_cot.jinja",
    "strip_chat_template": true,
    "name": "llama-2-icl-chat-summary-cot"
  },
  "server": {
    "volume": "/home/tlake/ut/lm-diversity-collapse/tgi",
    "image": "ghcr.io/huggingface/text-generation-inference:1.4",
    "detach": true,
    "shm_size": "1g",
    "gpus": "all",
    "model_id": "meta-llama/Llama-2-7b-hf",
    "max_input_length": 4095,
    "max_total_tokens": 4096,
    "max_top_n_tokens": 100,
    "quantize": null,
    "ports": {
      "80/tcp": 8081
    },
    "container_name": "sleepy_wing"
  },
  "params": {
    "details": false,
    "do_sample": true,
    "max_new_tokens": 700,
    "best_of": null,
    "repetition_penalty": 1.1,
    "return_full_text": false,
    "seed": null,
    "stop": [
      "# User"
    ],
    "temperature": 0.5,
    "top_k": null,
    "top_p": null,
    "truncate": null,
    "typical_p": null,
    "watermark": false,
    "decoder_input_details": false,
    "top_n_tokens": null,
    "num_samples": 5
  },
  "side_info_args": null
}